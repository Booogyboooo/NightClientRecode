package io.booogyboooo.nightclient.modules.exploit;

import io.booogyboooo.nightclient.event.EventData;
import io.booogyboooo.nightclient.event.EventType;
import io.booogyboooo.nightclient.event.annotation.Event;
import io.booogyboooo.nightclient.module.NightModule;
import io.booogyboooo.nightclient.module.Type;
import io.booogyboooo.nightclient.ui.components.options.Box;
import io.booogyboooo.nightclient.ui.components.options.Slider;
import io.booogyboooo.nightclient.util.PlayerPosUtil;

public class AntiVoid extends NightModule {

	public Slider fallDistance = new Slider("Distance", "BlocksMC", 5, 1, 10, 1);
	public Box onlyVoid = new Box("Only Void", "BlocksMC", true);
	
	public AntiVoid() {
		super(Type.EXPLOIT, "AntiVoid", "BlocksMC");
		this.addOption(fallDistance);
		this.addOption(onlyVoid);
	}
	
	@Override
	public void onEnable() {
		this.registerEvent(this, "postTick");
	}
	
	@Override
	public void onDisable() {
		this.unregisterEvent(this, "postTick");
	}
	
	@Event(eventType = EventType.POST_TICK)
	public void postTick(EventData data) {
		if (!this.isToggled() || mc.player == null) {
			return;
		}
		if (mc.player.fallDistance > fallDistance.getInteger()) {
			if (onlyVoid.checked()) {
				if (PlayerPosUtil.overVoid()) {
					mc.player.jump();
					mc.player.fallDistance = 1;
				}
			} else {
				mc.player.jump();
				mc.player.fallDistance = 1;
			}
		}
	}

}